<div class="container mt-4 pt-5 align-self-center w-75">

    <div class="bg-main-light p-5 rounded-4">

        <h1 class="text-center mb-4">Reset Password</h1>

            <!-- First Form (requires the e-mail) -->

        <div *ngIf="step1" class="mt-3">

        <form [formGroup]="forgotForm" (ngSubmit)="forgotPassword()">
            
        <label for="email">E-mail :</label>
        <input type="email" id="email" name="email" class="form-control my-2" formControlName='email'>

          <!-- e-mail validation alert -->

          <div class="alert alert-danger" *ngIf="forgotForm.get('email')?.errors && forgotForm.get('email')?.touched">
            <p *ngIf="forgotForm.get('email')?.getError('required')">E-mail is Required</p>
            <p *ngIf="forgotForm.get('email')?.getError('email')">Please enter a valid e-mail</p>
        </div>

        <button  class="btn-main mt-3 w-100" [disabled]="forgotForm.invalid">Send Code</button>

        <p class="alert alert-success text-center mt-3" *ngIf="msg">{{msg}}</p>
        <p class="alert alert-danger text-center mt-3" *ngIf="errMsg">{{errMsg}}</p>

        </form>


        </div>

            <!-- ############################################## -->

            <!-- Second Form (requires the reset code) -->

            <div *ngIf="step2" class="mt-3">

                <form [formGroup]="resetCodeForm" (ngSubmit)="resetCode()">
        
                    <label for="email">Enter The Reset Code :</label>
                    <input type="text" id="resetCode" name="resetCode" class="form-control my-2" formControlName='resetCode' placeholder="Reset Code">
            
                    <button  class="btn-main mt-3 w-100">Submit</button>

                    <p class="alert alert-success text-center mt-3" *ngIf="msg">{{msg}}</p>
                    <p class="alert alert-danger text-center mt-3" *ngIf="errMsg">{{errMsg}}</p>
            
                </form>


            </div>
           

            <!-- ############################################## -->
            <!-- Third Form (requires the new password) -->


            <div *ngIf="step3" class="mt-3">
                <form [formGroup]="newPasswordForm" (ngSubmit)="newPassword()">
        
                    <label for="email">Enter New Password :</label>
                    <input type="password" id="newPassword" name="newPassword" class="form-control my-2" formControlName='newPassword' placeholder="New Password">
            
                     <!-- password validation alert -->

                    <div class="alert alert-danger" *ngIf="newPasswordForm.get('password')?.errors && newPasswordForm.get('password')?.touched">
                    <p *ngIf="newPasswordForm.get('password')?.getError('required')">Password is Required</p>
                    <p *ngIf="newPasswordForm.get('password')?.getError('pattern')">Password must start with an uppercase character and must be between 6 - 20 characters long</p>  
                    </div>
                    

                    <button  class="btn-main mt-3 w-100">Submit</button>

                    <p class="alert alert-success text-center mt-3" *ngIf="msg">{{msg}}</p>
                    <p class="alert alert-danger text-center mt-3" *ngIf="errMsg">{{errMsg}}</p>
            
                </form>


            </div>
  

    </div>


</div>
